{% extends "base.html" %}

{% block title %}About | ImageDataExtractor{% endblock %}

{% block content %}
  <div class="container page-container">
    <h1>About</h1>
    {{ utils.flashed_messages(messages) }}
    <div>
      <div class="row">
        <div class="col-sm-8">
          <p class="feature-display">The DSSCSensor is a sensor device which measures multiple environmental factors known to affect solar cells performnance along with te performance of cells, in order to comprehensively measure DSSC perfomance characteristics.</p>

   
        </div>
      </div>


      <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#tab-img-mining" role="tab" data-toggle="tab">Dye Sensitised Solar Cells</a></li>
        <li role="presentation"><a href="#tab-particle-detection" role="tab" data-toggle="tab">Sensor Device</a></li>
        <li role="presentation"><a href="#tab-calculation-metrics" role="tab" data-toggle="tab">Results</a></li>
      </ul>
      <div class="tab-content">

        <div role="tabpanel" class="tab-pane active"  id="tab-img-mining">
            <h2>Dye Sensitised Solar Cells</h2>
          <p class="feature-display">Dye Sensitised Solar Cells (DSSCs) are a modern type of thin film solar cells, with the potential to be made transparent and flexible, providng opportunities for use in windows and wearables.</p>
              <section class="section section-default">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-4 text-center">
                      <img class="img-about-logo" src="{{ url_for('static', filename='img/dssc.jpg') }}">
            {#          <img class="img-about" src="{{ url_for('static', filename='img/operating_principles.png') }}">#}
                    </div>
                    <div class="col-sm-8 align-middle">
                      <h3>Operating Principles</h3>
                      <p class="feature-display">
                        DSSCs create electricity through the photoelectric effect. This begins with the absorption of an incident photon, by the dye, which acts as the photosensitizer of the DSSC. This promotes the photosensitizer from the ground state (~HOMO) to the excited state (~LUMO). Subsequently, the excited dye emits an electron, which is injected into the conduction band (CB) of the semiconductor, usually titanium dioxide (TiO2), leaving the dye oxidized. The electrons are then transported between TiO2 nanoparticles to the anode. From the anode, the electrons flow to the cathode via an external circuit. At the cathode, the electrons enter an electrolyte solution containing a redox couple, e.g. I3-/I-. The cathode is coated in a thin film of a catalyst for the reduction of the redox couple (in this case I3- to I-), which is typically platinum, but can also be carbon based. The iodide moves through the solution to the TiO2 and oxidized dye. The latter is then reduced by the electrons released from the oxidation of I-, which returns to I3-.</p>
                    </div>

                  </div>
                </div>
              </section>
              <section class="section section-alternate">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6">
                      <h3>Manufacturing process</h3>
                      <p class="feature-display">
                        DSSCs consist of an anode and cathode. These are made from conductive glass(in this project fluorine-doped tin oxide(FTO)). To make the anode, the FTO glass is coated in a layer of TiO2 nanoparticle paste, which is then calcinated at 500C. The titania coated anode is the soaked in a dye solution, typically dye dissolved in ethanol, for 24 hours. The cathode is made in the same way, however platinum is calcinated on instead of titania. The cathode and anode are then sealed together in a press heated using a thermoplastic gastket. Finally, the redox electrolyte (typically iodide/triiodide) is ijected into the cavity between the cathode and anode via two holes derilled in the anode.
                      </p>
                    </div>

                      <div class="col-sm-6 text-center">
                        <img class="img-about" src="{{ url_for('static', filename='img/soaking.jpg') }}">
                        <img class="img-about" src="{{ url_for('static', filename='img/platinum.jpg') }}">
                      </div>

                  </div>
                </div>
              </section>

        </div>
        <div role="tabpanel" class="tab-pane{% if registered %} active{% endif %}" id="tab-particle-detection">
          <h2>Sensor Device</h2>
          <p class="feature-display">
            The sensor device measures all the variables which affect DSSC performance, along with the performance of the DSSCs and wirelessly trnasmits the results to a USB receiver. In particular, light intensity is measured by 3 different sensors ( RGB, IR and UV sensors). Additionally, Humidity, ambient temperature and DSSC ternperature are measured.
          </p>
          <section class="section section-default">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6 text-center">
                      <img class="img-about" src="{{ url_for('static', filename='img/scalebar_resolution.png') }}">
            {#          <img class="img-about" src="{{ url_for('static', filename='img/chem.svg') }}">#}
                    </div>
                    <div class="col-sm-6">
                      <h3>Scalebar Detection</h3>
                      <p class="feature-display">
                        Scalebar regions are located and the value and unit of the scale read using optical character recognition.
                      </p>
                      <p class="feature-display">
                        The number of pixels in the scalebar is used to calculate a scale mapping for the image.
                      </p>
                    </div>

                  </div>
                </div>
              </section>
              <section class="section section-alternate">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6">
                      <h3>Thresholding</h3>
                      <p class="feature-display">
                        The image is converted to greyscale and binarized using an adaptive thresholding algorithm
                      </p>
                    </div>

                      <div class="col-sm-6 text-center">
                        <img class="img-about" src="{{ url_for('static', filename='img/particle_thresholding.png') }}">
                      </div>

                  </div>
                </div>
              </section>
            <section class="section section-default">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6 text-center">
                      <img class="img-about" src="{{ url_for('static', filename='img/closed_contours.png') }}">
            {#          <img class="img-about" src="{{ url_for('static', filename='img/chem.svg') }}">#}
                    </div>
                    <div class="col-sm-6">
                      <h3>Contour Detection</h3>
                      <p class="feature-display">
                        Edge detection algorithms are used to identify all closed contours.
                      </p>
                    </div>

                  </div>
                </div>
              </section>
              <section class="section section-alternate">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6">
                      <h3>Remove False Positives</h3>
                      <p class="feature-display">
                        The contours are filtered by removing all contours with insufficient variation in pixel intensity.
                      </p>
                      <p class="feature-display">
                        <small><em>A different image to the running example is used here due to the lack of false positives in the main example.</em></small>
                      </p>
                  </div>
                    <div class="col-sm-6 text-center">
                      <img class="img-about" src="{{ url_for('static', filename='img/false_positive_contours.png') }}">
                    </div>
                </div>
              </section>
            <section class="section section-default">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6 text-center">
                      <img class="img-about" src="{{ url_for('static', filename='img/cluster_breakup.png') }}">
            {#          <img class="img-about" src="{{ url_for('static', filename='img/chem.svg') }}">#}
                    </div>
                    <div class="col-sm-6">
                      <h3>Cluster Break-Up</h3>
                      <p class="feature-display">
                        Contour bottlenecks are used to split nearby particles that were blurred together during the contour detection.
                      </p>

                    </div>

                  </div>
                </div>
              </section>
              <section class="section section-alternate">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6">
                      <h3>Contour Filtering</h3>
                      <p class="feature-display">
                        Contours intersecting the image borders or scale information region (blue rectangle) are eliminated for being artifically distorted.

                      </p>
                    </div>

                      <div class="col-sm-6 text-center">
                        <img class="img-about" src="{{ url_for('static', filename='img/border_and_scalebar_particle_removal.png') }}">
                      </div>

                  </div>
                </div>
              </section>
            <section class="section section-default">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6 text-center">
                      <img class="img-about" src="{{ url_for('static', filename='img/ellipse_fitting.png') }}">
            {#          <img class="img-about" src="{{ url_for('static', filename='img/chem.svg') }}">#}
                    </div>
                    <div class="col-sm-6">
                      <h3>Ellipse Fitting</h3>
                      <p class="feature-display">
                        Remaining contours are fitted to an ellipse.
                      </p>
                      <p class="feature-display">
                        If it is determined that the ellipse is a better fit than the contour, it is used instead from this point forwards.
                      </p>
                    </div>

                  </div>
                </div>
              </section>
              <section class="section section-alternate">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6">
                      <h3>Particle Detection Output</h3>
                      <p class="feature-display">
                        After a secondary edge correction to remove ellipses intersecting the image border, the particle detection is complete and can be used to calculate the image metrics.
                      </p>
                    </div>

                      <div class="col-sm-6 text-center">
                        <img class="img-about" src="{{ url_for('static', filename='img/output_particle_image.png') }}">
                      </div>

                  </div>
                </div>
              </section>

        </div>


        <div role="tabpanel" class="tab-pane" id="tab-calculation-metrics">
           <h2>Results</h2>
          <p class="feature-display">The following graphs show the results of the sensor device and four cells over a 48 hour period.</p>
          
              <section class="section section-default">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6 text-center">
                      <img class="img-about" src="{{ url_for('static', filename='img/histogram_example.png') }}">
            {#          <img class="img-about" src="{{ url_for('static', filename='img/chem.svg') }}">#}
                    </div>
                    <div class="col-sm-6">
                      <h3>Histogram of Particle Sizes</h3>
                      <p class="feature-display">
                      A histogram of detected particle sizes. The results in blue are contributions deemed to be outliers.
                      </p>
                    </div>
                  </div>
                </div>
              </section>
              <section class="section section-alternate">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-6">
                      <h3>Radial Distribution Function (minimum)</h3>
                      <p class="feature-display">
                        The minimum radial distribution function (minRDF) of detected particles.
                      </p>
                      <p class="feature-display">
                        This shows the radial distribution function using all extracted particles.
                      </p>
                      </p>
                    </div>

                      <div class="col-sm-6 text-center">
                        <img class="img-about" src="{{ url_for('static', filename='img/rdf_example.png') }}">
                      </div>

                  </div>
                </div>
              </section>

        </div>
      </div>
    </div>



  </div>
  </div>
{% endblock %}
